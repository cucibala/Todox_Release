# TodoX 更新日志

## v3.4.0 - 2025-10-16 🤖 AI 智能拆解

### 🎉 新增功能

#### 🤖 AI 任务拆解
- **一键拆解**：使用 DeepSeek AI 智能分析任务，自动生成 3-5 个可执行子任务
- **智能评估**：AI 自动评估每个子任务的重要程度（1-5星）
- **确认机制**：预览 AI 建议后，用户确认再添加
- **批量生成**：一次性自动创建所有子任务

#### ⚙️ DeepSeek API 配置
- **设置中心**：在设置页面配置 DeepSeek API 密钥
- **安全存储**：API 密钥加密保存
- **状态显示**：清晰显示密钥配置状态

---

## v3.3.0 - 2025-10-16 ✨ UI优化与功能增强

### 🎉 新增功能

#### 📊 全新侧边栏统计
- 🎯 **环形进度条**：直观展示任务总体完成情况
- 📅 **每日统计**：实时显示今日新增和完成的任务数量
- 📈 **项目进度**：每个项目单独显示完成进度条
- 🎨 **视觉优化**：现代化设计，信息一目了然

#### 🔐 密码管理增强
- ⚙️ **设置中心**：在设置页面可直接修改锁定密码
- 🔒 **状态显示**：清晰显示密码设置状态（已设置/未设置）
- 🎯 **快速访问**：无需进入锁屏页面即可管理密码

#### ✏️ 多行输入支持
- 📝 **任务多行**：任务内容支持多行输入，更详细的描述
- 📋 **进度多行**：进度记录支持多行描述，记录更清晰
- ⌨️ **快捷键**：Ctrl+Enter 快速提交，提升输入效率
- 🎨 **自适应高度**：输入框根据内容自动调整高度

#### 📋 任务编辑功能
- ✏️ **在线编辑**：点击编辑按钮直接修改任务内容
- 💾 **快速保存**：支持 Ctrl+Enter 保存，Esc 取消
- 🎯 **智能更新**：只在内容有变化时才保存
- ✅ **输入验证**：防止保存空内容

#### 📄 复制功能
- 📋 **一键复制**：任务和进度记录都支持复制内容
- 🎯 **智能显示**：鼠标悬停时才显示复制按钮，界面简洁
- ✨ **操作反馈**：复制成功后显示提示消息
- 🎨 **美观交互**：流畅的悬停动画效果

#### 🛡️ 安全删除
- ⚠️ **删除确认**：删除进度记录前需要确认，防止误操作
- 🎯 **清晰提示**：明确的确认对话框提示
- ✅ **可取消**：随时可以取消删除操作

#### 🎨 子任务UI优化
- 💎 **全新设计**：更美观的添加子任务界面
- 🎯 **优先级卡片**：可视化的优先级选择
- 📊 **权重提示**：清晰展示不同优先级的权重影响
- ✨ **图标增强**：各处增加图标，提升视觉体验

#### 🖼️ 全新应用图标
- 🎨 **X图标**：使用全新的 X.png 作为应用图标
- 🪟 **系统集成**：窗口图标和系统托盘图标统一更新
- 📦 **打包优化**：所有平台构建都使用新图标

### 🐛 问题修复

- 🔧 修复进度记录显示被"挤成一坨"的样式问题
- 📝 修复换行符在进度记录中无法正确显示的问题
- ⚠️ 修复任务编辑按钮失效的问题
- 🎨 修复CSS类名冲突导致的样式异常

### 💡 使用技巧

#### 多行输入
1. 在任务或进度输入框中直接按 Enter 换行
2. 输入框会自动调整高度适应内容
3. 按 Ctrl+Enter 快速提交

#### 复制内容
1. 鼠标悬停在任务或进度记录上
2. 点击出现的复制按钮（📋 图标）
3. 内容已复制到剪贴板

#### 编辑任务
1. 点击任务右侧的编辑按钮（✏️ 图标）
2. 在编辑框中修改内容
3. 点击保存或按 Ctrl+Enter 保存
4. 按 Esc 取消编辑

### 🎨 界面改进

- 📊 侧边栏宽度调整为 280px，更好展示统计信息
- 🎯 统计信息移至项目列表下方，布局更合理
- ✨ 所有按钮增加悬停效果和动画
- 🎨 统一图标风格，视觉更协调
- 📝 多处优化文字提示和占位符

---

## v3.1.0 - 2025-10-14 🔐 密码锁定功能

### 🎉 新增功能

#### 🔒 密码锁定系统
- ✨ **密码保护**：支持设置密码锁定应用
- 🔐 **加密存储**：密码使用加密算法安全存储
- 🎯 **锁定界面**：精美的锁定界面，完全隐藏任务内容
- 🔄 **密码管理**：支持设置、修改、清除密码
- 📌 **快速锁定**：标题栏一键锁定/解锁
- ⚠️ **安全提示**：密码至少4位，忘记无法恢复

### 💡 使用方法

#### 设置密码
1. 点击标题栏的 **🔒 锁定按钮**
2. 首次使用会弹出密码设置对话框
3. 输入新密码（至少4位）
4. 确认密码后完成设置

#### 锁定应用
- 点击标题栏的锁定按钮即可锁定
- 锁定后会显示锁定界面
- 需要输入密码才能解锁

#### 修改密码
1. 在锁定界面点击"设置/修改密码"
2. 输入当前密码
3. 输入新密码和确认密码
4. 点击确定完成修改

#### 清除密码
1. 在密码设置对话框中点击"清除密码"
2. 输入当前密码验证
3. 确认后清除密码保护

### 🔄 其他改进
- 优化密码输入体验
- 添加密码验证错误提示
- 完善锁定/解锁动画效果
- 🔒 **启动保护**：程序启动时自动检查密码，已设置密码则自动锁定

### 🎯 使用场景
- **办公环境**：临时离开时锁定，防止他人查看
- **共享电脑**：保护个人任务隐私
- **隐私保护**：敏感任务内容加密保护

### ⚠️ 注意事项
- 密码一旦忘记无法恢复，请妥善保管
- 建议设置容易记住但不容易被猜到的密码
- 密码存储在本地，不会上传到服务器

---

## v3.0.0 - 2025-10-14 🎉 重大更新

### 🎉 新增功能

#### 📁 项目管理系统（重大新特性）
- ✨ **完整的项目管理**：支持创建、切换、删除项目
- 🎨 **项目颜色标识**：8种颜色可选，让项目一目了然
- 📊 **项目任务统计**：实时显示每个项目的完成进度（已完成/总数）
- 🔄 **项目切换**：点击项目即可切换，只显示当前项目的任务
- 🗑️ **项目删除**：支持删除项目及其下所有任务（带确认提示）
- 💾 **独立存储**：项目数据单独存储在 `projects.json`

#### 🔒 任务关联项目
- ✅ **项目必需**：添加任务前必须先创建并选择项目
- 🔗 **任务归属**：每个任务都归属于一个项目
- 🎯 **按项目筛选**：自动显示当前项目的任务
- 📋 **项目提示**：显示当前正在操作的项目名称

#### 🎨 全新界面
- 📌 **项目侧边栏**：在侧边栏顶部显示项目列表
- ⚠️ **无项目提示**：没有项目时显示橙色提示框
- 💡 **当前项目显示**：任务输入区域显示当前项目（颜色与项目一致）
- 🎭 **动态禁用**：没有项目时任务输入被禁用

### 💡 使用方法

#### 创建项目
1. 点击侧边栏"项目"区域的 **+** 按钮
2. 输入项目名称（最多30个字符）
3. 从8种颜色中选择一个
4. 点击"创建"完成

#### 使用流程
```
创建项目 → 选择项目 → 添加任务
```

#### 项目管理
- **切换项目**：点击项目即可切换
- **删除项目**：鼠标悬停显示删除按钮
- **查看统计**：项目旁边显示任务完成情况

### 🔄 其他改进
- 优化数据结构，任务新增 `projectId` 字段
- 添加项目数据的加载和保存逻辑
- 优化侧边栏布局，项目区域独立显示
- 完善错误处理和用户提示

### 📚 文档更新
- 新增 `项目管理说明.md` 详细文档
- 更新 `README.md` 添加项目管理说明
- 更新应用描述和版本信息

### 🎯 使用场景
- **工作与生活分离**：创建"工作"和"生活"项目
- **多项目管理**：不同的工作项目独立管理
- **任务分类**：按领域或类型组织任务

---

## v2.4.0 - 2025-10-14

### 🎉 新增功能

#### 📷 进度图片支持
- ✨ **进度添加图片**：现在可以为每条进度描述添加图片
- 🖼️ **多图片支持**：每条进度可以添加多张图片
- 👁️ **图片预览**：添加进度时实时预览图片（60x60缩略图）
- 🗑️ **单独删除**：可以删除进度中的任意图片
- 🔍 **图片查看**：点击进度图片可全屏查看
- 💾 **自动保存**：进度图片随进度一起保存
- 🎨 **紧凑显示**：进度图片以小尺寸展示，不占用太多空间

### 💡 使用方法
1. **添加进度图片**：
   - 在进度输入框右侧点击 📷 图片按钮
   - 可以添加多张图片
   - 点击预览图右上角 × 删除不需要的图片
   - 输入进度描述后提交

2. **查看进度图片**：
   - 进度记录中会显示图片缩略图
   - 点击图片可全屏查看

### 🔄 其他改进
- 优化进度输入区域布局
- 添加单实例锁定，防止重复启动应用

---

## v2.3.0 - 2025-10-14

### 🎉 新增功能

#### 📝 任务进度追踪
- ✨ **进度记录**：为每个任务添加多条进度描述
- 📌 **实时追加**：随时记录任务的进展情况
- 🗑️ **灵活管理**：可以删除不需要的进度记录
- ⏰ **时间戳**：每条进度自动记录添加时间
- 💡 **快速输入**：回车键快速添加进度
- 🎨 **清晰展示**：进度记录以卡片形式展示，一目了然

#### 🖼️ 编辑模式图片管理
- ✨ **编辑图片**：进入编辑模式后可以添加/删除图片
- 📷 **灵活添加**：编辑任务时点击"📷 添加图片"按钮添加更多图片
- 🗑️ **单独删除**：每张图片都有独立删除按钮
- 🔄 **实时更新**：图片修改立即生效并保存
- 👁️ **编辑预览**：编辑模式下显示所有图片的缩略图

### 🎨 界面改进
- 改进进度记录的视觉设计
- 优化编辑模式的图片管理界面
- 添加进度输入框和按钮
- 增强任务内容的层次感

### 💡 使用技巧
- **添加进度**：在任务下方的输入框中输入进度描述，点击"+"或按回车键
- **编辑图片**：点击任务的"编辑"按钮，会显示图片管理区域
- **删除进度**：点击进度记录右侧的"×"按钮删除
- **保存编辑**：点击"编辑"按钮或按回车键保存修改

---

## v2.2.0 - 2025-10-14

### 🎉 新增功能

#### 📸 多图片支持
- ✨ **添加多张图片**：每个任务现在可以添加多张图片附件
- 🖼️ **图片预览**：添加图片时显示缩略图预览
- 🗑️ **单独删除**：可以单独删除某张图片
- 📱 **灵活布局**：图片自动横向排列，支持换行显示
- 🎨 **优化尺寸**：预览图统一为 100x100px，任务中显示为 80x80px
- 🔍 **点击查看**：点击图片可全屏查看

#### 📅 日期选择优化
- 🔓 **取消默认日期**：日期输入框不再自动填充当前日期
- ✅ **可选填写**：日期变为可选项，更加灵活
- 💡 **提示优化**：提示文本改为"截止日期（可选）"

### 🔄 兼容性
- ✅ 完全兼容旧版本数据
- ✅ 旧版本的单张图片会自动显示
- ✅ 数据自动迁移，无需手动操作

### 🎨 界面改进
- 改进图片显示布局
- 优化图片预览交互
- 统一图片尺寸和间距

---

## v2.1.0 - 2025-10-14

### 🎉 重大更新 - 桌面背景模式

#### 🖥️ 桌面背景模式（新功能）
- ✨ **桌面小部件模式**：任务清单可以像桌面小部件一样显示在桌面上
- 🎨 **半透明毛玻璃效果**：美观的透明背景和模糊效果
- 📍 **桌面层级显示**：显示在所有窗口之下，桌面壁纸之上
- 👁️ **随时可见**：按 Win+D 回到桌面即可查看和操作任务
- 🎮 **一键切换**：点击标题栏桌面按钮或通过托盘菜单切换
- 💾 **状态记忆**：自动保存桌面模式设置，重启后恢复

#### 使用场景
- 工作时将任务清单固定在桌面背景，随时提醒
- 学习时查看学习计划，不被其他窗口遮挡
- 回到桌面就能看到今日待办，不需要切换窗口

---

## v2.0.0 - 2025-10-14

### 🎉 重大更新

#### 窗口管理功能
- ✨ **无边框窗口设计**：现代化的自定义标题栏
- 📌 **窗口置顶功能**：让任务清单始终显示在最前面，方便查看
- 🎯 **迷你模式**：350px宽度精简界面，可放置在桌面角落
- 🔄 **模式切换**：完整模式（1000x700）⇄ 迷你模式（350x500）一键切换
- 🖱️ **自由拖动**：可拖动到桌面任意位置
- 🤖 **智能定位**：拖动窗口到右上角自动切换迷你模式并置顶

#### 系统托盘
- 💫 **托盘最小化**：关闭窗口时最小化到系统托盘，不退出应用
- 🎮 **托盘菜单**：
  - 显示/隐藏窗口
  - 切换窗口置顶
  - 切换完整/迷你模式
  - 退出应用
- 🖱️ **双击显示**：双击托盘图标快速显示窗口

#### 界面优化
- 🎨 **自定义标题栏**：
  - 窗口置顶按钮（图钉图标）
  - 模式切换按钮（分屏图标）
  - 最小化按钮
  - 关闭按钮（隐藏到托盘）
- 📏 **迷你模式适配**：
  - 隐藏侧边栏
  - 紧凑的间距
  - 自适应布局
  - 始终显示操作按钮

#### 数据持久化
- 💾 **设置保存**：自动记住窗口模式和置顶状态
- 🔄 **状态恢复**：重启应用后保持上次的设置

### 🐛 Bug修复
- 修复删除任务后页面失去焦点的问题
- 改用自定义确认对话框替代原生confirm，避免焦点丢失
- 优化所有异步操作的执行顺序

### 💡 使用建议

**推荐使用场景**：
1. **智能迷你模式**：直接拖动窗口到桌面右上角，会自动切换到迷你模式并置顶
2. **完整模式**：需要管理大量任务时使用
3. **托盘模式**：不需要时隐藏到托盘，需要时快速调出

**智能定位说明**：
- 将窗口拖动到屏幕右上角区域（右侧30%且顶部30%）
- 系统会自动检测并切换到迷你模式
- 同时自动启用窗口置顶
- 会显示"已切换到迷你模式"的提示

**快捷键提示**：
- 点击标题栏空白处可拖动窗口
- 双击托盘图标显示窗口
- 右键托盘图标打开菜单

---

## v1.0.0 - 2025-10-14

### 初始功能
- ✅ 基础任务管理（增删改查）
- ✅ 任务优先级
- ✅ 截止日期
- ✅ 图片附件
- ✅ 搜索筛选
- ✅ 数据持久化

